<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zombie spel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="poggers">
    <header>PRESS [SPACE] TO ENABLE DRIP MODE</header>
    <script src="http://spelprogrammering.nu/simple.js">

        var zombies = [];
        var timecount = 0
        setInterval(function () { timecount += 1; }, 1000);
        /*Startar en timer m.h.a en function*/
        var i = 0;
    
        while (i < 15)
        {
            zombies.push({x: random(totalWidth),
                          y: random(totalHeight),
                          speed: random(1,20)});
            /*Bestämmer hastighet, höjd och längd på zombie variablen*/
            i += 1;
        }
    
        function update()
        {
            clearScreen();
    
            var i = 0;
    
            while (i < 15)
            {
                var zombie = zombies[i];
    
                picture(zombie.x, zombie.y, "dripslender.png");

                if (keyboard.space) {
                    document.body.style.backgroundImage = "url('https://i.ytimg.com/vi/WnKoEAwPK3A/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLDdxAEseRVzIEMBfjLCHWGefGUXvg')"
                    var audio = new Audio("drip.mp3");
                    audio.play();
                    audio.volume = 0.03
                }

                if (keyboard.space) {
                    var audios = new Audio("Jorge.mp3");
                    audios.play();
                }

                if (keyboard.space) {
                    var audioss = new Audio("caramell.mp3");
                    audioss.play();
                }
                /*Space funktionen för att starta musiken*/
    
                if (zombie.x < mouse.x)
                 zombie.x += zombie.speed;
                else
                 zombie.x -= zombie.speed;
                
                if (zombie.y < mouse.y)
                 zombie.y += zombie.speed;
                else
                 zombie.y -= zombie.speed;
                /*Ger zombie variabeln ett sätt att röra sig på*/
                if (distance(mouse, zombie) < 5)
                {
                    stopUpdate();
                    location.replace("over.html")
                    localStorage.setItem('time', timecount)
                }   /*Om zombie variabeln är mindre än 5 pixlar nära så stoppar spelet och sparar tiden*/

                i += 1;
            }
        }
    /*Själva spelet och space funktionen*/
    </script>
    
</body>
</html>
